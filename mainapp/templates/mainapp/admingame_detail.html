{%extends 'mainapp/base.html'%}
{% block title %}
    <title>admingame_detail</title>
{% endblock title %}
{% block main %}
<a href="{% url 'admingames' %}">Back to Games</a>

<form method="post" enctype="multipart/form-data">
    {% csrf_token %}

    <label for="author">Author</label>
    <input type="text" name="author" value="{{ game.author }}">
<br>
    <label for="desc">Description</label>
    <textarea name="desc">{{ game.desc }}</textarea>
<br>
    <label for="name">Name</label>
    <input type="text" name="name" value="{{ game.name }}" required>
<br>
    <label for="topic">Topic</label>
    <select name="topic">
        {% for topic in topics %}
            <option value="{{ topic.id }}" {% if topic.id == game.topic.id %}selected{% endif %}>{{ topic.name }}</option>
        {% endfor %}
    </select>
<br>
    <label for="lowage">Lower Age</label>
    <input type="number" name="lowage" value="{{ game.lowage }}">
<br>
    <label for="upage">Upper Age</label>
    <input type="number" name="upage" value="{{ game.upage }}">
<br>
    <label for="playernum">Number of Players</label>
    <textarea name="playernum">{{ game.playernum }}</textarea>
<br>
    <label for="time">Time (minutes)</label>
    <input type="number" name="time" value="{{ game.time }}">
    <br>

    <label for="format">Format</label>
    <select name="format" required>
        <option value="online" {% if game.format == 'online' %}selected{% endif %}>Online</option>
        <option value="offline" {% if game.format == 'offline' %}selected{% endif %}>Offline</option>
        <option value="blended" {% if game.format == 'blended' %}selected{% endif %}>Blended</option>
    </select>
    <br>

    <label for="type">Type</label>
    <select name="type">
        {% for type in types %}
            <option value="{{ type.id }}" {% if type.id == game.type.id %}selected{% endif %}>{{ type.name }}</option>
        {% endfor %}
    </select>
    <br>

    <label for="rules">Rules</label>
    <textarea name="rules">{{ game.rules }}</textarea>
    <br>

    <label for="goal">Goal</label>
    <textarea name="goal">{{ game.goal }}</textarea>
    <br>

    <label for="target">Target</label>
    <textarea name="target">{{ game.target }}</textarea>
    <br>

    <label for="outcome">Outcome</label>
    <textarea name="outcome">{{ game.outcome }}</textarea>
    <br>

    <label for="pic">Picture</label>
    <input type="file" name="pic">
    <br>
    <img src="{{ game.pic.url }}" alt="" width="200" height="200">
    <br>

    <label for="file">File</label>
    <input type="file" name="file">
    <br>
    <p>Download: <a href="{{ game.file.url }}" download>Game</a></p>
    <br>

    <button type="submit">Save</button>
</form>
<form action="{% url 'delete_game' game.id %}" method="POST" onsubmit="return confirm('Are you sure you want to delete this game?');">
    {% csrf_token %}
    <input type="submit" value="DELETE">

</form>





{% endblock main %}
